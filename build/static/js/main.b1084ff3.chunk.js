(this.webpackJsonpmacfeeauth0=this.webpackJsonpmacfeeauth0||[]).push([[0],{34:function(e,t,n){},56:function(e,t,n){},61:function(e,t,n){},84:function(e,t,n){"use strict";n.r(t);var a=n(43),o=n(44),r=n(1),i=n.n(r),s=n(45),c=n.n(s),l=(n(56),n(26)),d=n(4),u=n(17),m=n.n(u),b=n(22),j=n(15),g=n(16),p=n(46),h=n(2),O=i.a.createContext({}),v=function(e){var t=Object(r.useState)(!1),n=Object(g.a)(t,2),a=n[0],o=n[1],i=new p.a.WebAuth({domain:e.config.auth0Domain,clientID:e.config.clientID,redirectUri:e.config.callbackURL,responseType:e.config.extraParams.response_type,scope:e.config.extraParams.scope,state:e.config.extraParams.state,nonce:e.config.extraParams.nonce,_csrf:e.config.extraParams._csrf,audience:e.config.extraParams.audience,overrides:{__tenant:e.config.auth0Tenant}});return Object(h.jsx)(O.Provider,{value:{webAuth:i,otpStart:function(e){return new Promise((function(t,n){i.passwordlessStart({email:e,connection:"email",send:"code",authParams:{lang:"fr-ca"}},(function(e,a){e?(console.log(e),n(e)):t(a)}))}))},otpLogin:function(e,t){return new Promise((function(n,a){i.passwordlessLogin({email:e,connection:"email",verificationCode:t},(function(e,t){e?a(e):(window.origin=window.location.origin,n(t))}))}))},loginWithPassword:function(e,t){return new Promise((function(n,a){i.login({realm:"Username-Password-Authentication",username:e,password:t},(function(e,t){e?a(e):t&&(window.origin=window.location.origin,n(t))}))}))},AuthenticateUser:function(e,t){localStorage.setItem("access_token",t),localStorage.setItem("id_token",e),o(!0)},storeUserData:function(e){localStorage.setItem("userData",JSON.stringify(e))},isAuthenticated:a,getUserInfo:function(){var e=localStorage.getItem("access_token");return new Promise((function(t,n){i.client.userInfo(e,(function(e,a){a?(console.log(a),n(a)):(console.log(e),t(e))}))}))}},children:e.children})};function f(e){var t=Object(r.useContext)(O),n=t.loginWithPassword,a=t.otpLogin,o=t.otpStart,s=Object(r.useState)({email:"",password:"",otp:"",otpAvailable:!1,isSubmitting:!1}),c=Object(g.a)(s,2),l=c[0],u=c[1],p=Object(r.useState)({email:"",isEmailError:"",databaseError:"",errorCode:""}),h=Object(g.a)(p,2),v=h[0],f=h[1],_=Object(r.useState)(!1),x=Object(g.a)(_,2),w=x[0],C=x[1],y=Object(r.useState)(!1),E=Object(g.a)(y,2),k=E[0],I=E[1],N=function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())},S=function(){var e=Object(b.a)(m.a.mark((function e(t){var o,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),w){e.next=16;break}return e.prev=2,e.next=5,n(l.email,l.password);case 5:o=e.sent,f(Object(d.a)(Object(d.a)({},v),{},{databaseError:""})),console.log(o),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0),f(Object(d.a)(Object(d.a)({},v),{},{databaseError:e.t0.description,errorCode:e.t0.code}));case 14:e.next=29;break;case 16:if(e.prev=16,!l.otpAvailable){e.next=23;break}return console.log(l.otp,"otp"),e.next=21,a(l.email,l.otp);case 21:r=e.sent,console.log(r,"ankit");case 23:e.next=29;break;case 25:e.prev=25,e.t1=e.catch(16),console.log(e.t1),f(Object(d.a)(Object(d.a)({},v),{},{databaseError:e.t1.description,errorCode:e.t1.code}));case 29:case"end":return e.stop()}}),e,null,[[2,10],[16,25]])})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(b.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,C(!w),e.next=4,o(l.email);case 4:t=e.sent,console.log("enter here",t),u(Object(d.a)(Object(d.a)({},l),{},{otpAvailable:!0})),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),f(Object(d.a)(Object(d.a)({},v),{},{databaseError:e.t0.description,errorCode:e.t0.code}));case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),P=i.a.Children.only(e.children);return i.a.cloneElement(P,{onChange:function(e){u(Object(d.a)(Object(d.a)({},l),{},Object(j.a)({},e.target.name,e.target.value))),function(e){"email"===e.target.name&&(e.target.value?e.target.value&&!N(e.target.value)?f(Object(d.a)(Object(d.a)({},v),{},Object(j.a)({isEmailError:!0},e.target.name,"Email is not valid"))):f(Object(d.a)(Object(d.a)({},v),{},Object(j.a)({isEmailError:!1},e.target.name,""))):f(Object(d.a)(Object(d.a)({},v),{},Object(j.a)({isEmailError:!0},e.target.name,"Email is required"))))}(e)},onToggle:function(){C(!w),f(Object(d.a)(Object(d.a)({},v),{},{email:"",databaseError:""}))},switchLogin:w,onSubmit:S,LoginForm:l,LoginError:v,Continue:k,onPressContinue:function(){I(!0)},validateEmail:N,getOtp:L})}n(34);var _=n(88),x=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(h.jsx)(_.a,{id:e,values:Object(d.a)({},t)})},w=function(e){var t=e.onChange,n=e.switchLogin,a=e.onSubmit,o=e.LoginError,r=e.LoginForm,i=e.onToggle,s=e.Continue,c=e.onPressContinue,l=e.validateEmail,d=e.getOtp;return Object(h.jsxs)("div",{className:"LoginWrapperContainer",children:[Object(h.jsxs)("form",{className:"InputWrapper",children:[!n&&Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:"InputContainer",children:[Object(h.jsx)("div",{className:"InputLabel",children:x("emailAddress")}),Object(h.jsx)("input",{type:"email",id:"email",name:"email",value:r.email,placeholder:"johndoe@domain.com",className:"Input",onChange:t,style:{border:!0===o.isEmailError?"2px solid red":!1===o.isEmailError?"2px solid green":"",backgroundColor:"#ffff"}})]})}),o.email&&Object(h.jsx)("div",{className:"Error",children:o.email}),s&&!n&&Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:"InputContainer",children:[Object(h.jsx)("div",{className:"InputLabel",children:x("password")}),Object(h.jsx)("input",{type:"password",id:"password",name:"password",placeholder:"********",className:"Input",onChange:t})]})}),s&&n&&r.otpAvailable&&Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:"InputContainer",children:[Object(h.jsx)("div",{className:"InputLabel",children:x("one_time_passcode")}),Object(h.jsx)("input",{id:"otp",name:"otp",className:"Input",onChange:t})]})}),!s&&Object(h.jsx)("button",{className:"RequestOtp",onClick:c,disabled:!l(r.email),style:{backgroundColor:l(r.email)?"":"grey"},children:Object(h.jsx)("div",{children:x("continue")})}),s&&Object(h.jsx)("button",{className:"RequestOtp",onClick:a,children:Object(h.jsx)("div",{children:x("signIn")})})]}),o.errorCode&&Object(h.jsx)("div",{className:"Error",children:x(o.errorCode)}),s&&Object(h.jsxs)("div",{className:"SwitchContainer",children:[Object(h.jsx)("div",{className:"Switch",children:x("or")}),!n&&Object(h.jsx)("button",{className:"SwitchBtn",onClick:d,children:Object(h.jsx)("div",{children:x("Sign_in_with_a_onetime_passcode")})}),n&&Object(h.jsx)("button",{className:"SwitchBtn",onClick:i,children:Object(h.jsx)("div",{children:x("signIn_with_password")})})]})]})},C=function(e){var t=e.onChange,n=e.switchLogin,a=e.onToggle,o=e.onSubmit,r=e.LoginError,i=e.LoginForm,s=e.Continue,c=e.onPressContinue,l=e.validateEmail,d=e.getOtp;return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:"LoginContainer",children:[Object(h.jsx)("div",{className:"LeftWrapper",children:Object(h.jsxs)("div",{className:"WelcomeContainer",children:[Object(h.jsx)("div",{className:"Logo",children:"McAfee"}),Object(h.jsxs)("div",{className:"Intro",children:[x("Welcome_back_to")," McAfee !"]}),s?Object(h.jsx)("div",{className:"IntroSubHeading",children:x("choose_your_signIn_method_continue")}):Object(h.jsx)("div",{className:"IntroSubHeading",children:x("Enter_your_email_address_so_we_can_find_your_account")})]})}),Object(h.jsx)("div",{className:"RightWrapper",children:Object(h.jsx)(w,{LoginError:r,onChange:t,switchLogin:n,onSubmit:o,LoginForm:i,onToggle:a,onPressContinue:c,Continue:s,validateEmail:l,getOtp:d})})]})})},y=function(e){return Object(h.jsx)(f,Object(d.a)(Object(d.a)({},e),{},{children:Object(h.jsx)(C,{})}))},E=n(6),k=(n(61),function(){var e=JSON.parse(localStorage.getItem("userData"));return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:"DashboardContainer",children:[Object(h.jsxs)("div",{className:"DashBoardHeading",children:[x("Welcome_to_dashboard")," "]}),Object(h.jsx)("div",{className:"UserImg",style:{backgroundImage:"url(".concat(null===e||void 0===e?void 0:e.picture,")")}}),Object(h.jsx)("div",{className:"UserName",children:e.name})]})})}),I=function(e){return Object(h.jsx)(k,{})},N=function(){var e=Object(r.useContext)(O),t=e.isAuthenticated,n=e.storeUserData,a=e.AuthenticateUser,o=e.webAuth;return Object(r.useEffect)((function(){window.location.hash&&o.parseHash({hash:window.location.hash},(function(e,t){if(e)return console.log(e),void localStorage.clear();var o=t.idTokenPayload,r=o.email,i=o.name,s=o.picture,c=o.sub;n({email:r,name:i,picture:s,id:c}),a(t.idToken,t.accessToken)}))}),[]),t?Object(h.jsx)(E.a,{to:"/dashboard"}):Object(h.jsx)("div",{children:"Loading...."})},S=n(87),L="en-us",P="fr-ca",A=Object(j.a)({},L,{Welcome_back_to:"Welcome back to",emailAddress:"Email Address",password:"Password",signIn:"sign in",choose_your_signIn_method_continue:"Choose your sign in method to continue",Enter_your_email_address_so_we_can_find_your_account:"Enter your email address so we can find your account.",or:"or",signIn_with_password:"sign in with password",one_time_passcode:"one-time passcode",Sign_in_with_a_onetime_passcode:"sign in with one-time passcode",continue:"continue",access_denied:"Wrong email or password.",too_many_attempts:" Your account has been blocked after multiple consecutive login attempts. We\u2019ve sent you an email with instructions on how to unblock it.",Welcome_to_dashboard:"Welcome to Dashboard",invalid_request:" Invalid request body. All and only of client_id, credential_type, username, otp, realm are required.",unauthorized_client:"Cross origin login not allowed.",unsupported_credential_type:" Unknown credential type parameter.",blocked_user:"blocked user",password_leaked:"This login attempt has been blocked because the password you're using was previously disclosed through a data breach "}),W=Object(j.a)({},P,{Welcome_back_to:"Bon retour \xe0",emailAddress:"Adresse e-mail",password:"le mot de passe",signIn:"s'identifier",choose_your_signIn_method_continue:"Choisissez votre m\xe9thode de connexion pour continuer",Enter_your_email_address_so_we_can_find_your_account:"Entrez votre adresse e-mail afin que nous puissions trouver votre compte.",Sign_in_with_a_onetime_passcode:"Connectez-vous avec un code d'acc\xe8s \xe0 usage unique",or:"ou",signIn_with_password:"se connecter avec mot de passe",one_time_passcode:"code d'acc\xe8s \xe0 usage unique",continue:"Continuez",access_denied:"Mauvaise adresse de messagerie ou mot de passe.",too_many_attempts:"Votre compte a \xe9t\xe9 bloqu\xe9 apr\xe8s plusieurs tentatives de connexion cons\xe9cutives. Nous vous avons envoy\xe9 un e-mail avec des instructions sur la fa\xe7on de le d\xe9bloquer",Welcome_to_dashboard:"bienvenue au tableau de bord",invalid_request:"Corps de requ\xeate non valide. Tous et uniquement client_id, type d'identification, nom d'utilisateur, otp, domaine sont requis",unauthorized_client:"Connexion d'origine crois\xe9e non autoris\xe9e.",unsupported_credential_typ:"Param\xe8tre de type d'identifiant inconnu.",blocked_user:"utilisateur bloqu\xe9",password_leaked:"Cette tentative de connexion a \xe9t\xe9 bloqu\xe9e car le mot de passe que vous utilisez a d\xe9j\xe0 \xe9t\xe9 divulgu\xe9 suite \xe0 une violation de donn\xe9es"}),q=Object(d.a)(Object(d.a)({},A),W),U=function(e){var t=e.children,n=e.locale;return Object(h.jsx)(S.a,{textComponent:r.Fragment,locale:n,messages:q[n],children:t})},D=n(48),T=n.n(D),z=i.a.createContext({}),F=function(e){var t=Object(r.useState)([]),n=Object(g.a)(t,2),a=n[0],o=n[1];return Object(r.useEffect)((function(){var e=function(){var e=Object(b.a)(m.a.mark((function e(){var t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.a.get("/client/9dR6Ug2BQQbmBMp6grHf1R962NBigRxg.js?t1634713429698");case 2:t=e.sent,n=JSON.parse(t.data.slice(16,-2)),console.log(n.strategies),o(n.strategies);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(h.jsx)(z.Provider,{value:{connections:a},children:e.children})};var R=function(e){var t,n=e.pageConfig,a=new URLSearchParams(Object(E.g)().search),o=Object(r.useRef)(""),i=a.get("culture");return null===i?t=null===localStorage.getItem("lang")?"en-us":localStorage.getItem("lang"):(t=i,localStorage.setItem("lang",t)),o.current="en-us"===t?L:"fr-ca"===t?P:"en-us",Object(h.jsx)(F,{children:Object(h.jsx)(U,{locale:o.current,children:Object(h.jsx)(v,{config:n,children:Object(h.jsxs)(E.d,{children:[Object(h.jsx)(E.b,{exact:!0,path:"/",component:y}),Object(h.jsx)(E.b,{exact:!0,path:"/authorize",component:N}),Object(h.jsx)(E.b,{exact:!0,path:"/dashboard",component:I})]})})})})};var B=function(e){var t=e.pageConfig;return Object(h.jsx)("div",{className:"App",children:Object(h.jsx)(R,{pageConfig:t})})};window.LoginWidget=function(){function e(){Object(a.a)(this,e)}return Object(o.a)(e,[{key:"init",value:function(e){var t=e.pageConfig;if(!t)throw new Error("pageConfig must be provided in opts");c.a.render(Object(h.jsx)(l.a,{children:Object(h.jsx)(B,{pageConfig:t})}),document.getElementById("root"))}}]),e}()}},[[84,1,2]]]);
//# sourceMappingURL=main.b1084ff3.chunk.js.map