(this.webpackJsonpmacfeeauth0=this.webpackJsonpmacfeeauth0||[]).push([[0],{34:function(e,t,n){},54:function(e,t,n){},59:function(e,t,n){},82:function(e,t,n){"use strict";n.r(t);var a=n(1),o=n.n(a),r=n(43),s=n.n(r),i=(n(54),n(26)),c=n(4),l=n(17),d=n.n(l),u=n(22),b=n(15),m=n(16),j=n(44),h=n(2),p=o.a.createContext({}),g=function(e){var t=Object(a.useState)(!1),n=Object(m.a)(t,2),o=n[0],r=n[1],s=new j.a.WebAuth({domain:"dev-xl32ev2i.us.auth0.com",clientID:"9dR6Ug2BQQbmBMp6grHf1R962NBigRxg",responseType:"token id_token",redirectUri:"http://localhost:3000/authorize",audience:"https://dev-xl32ev2i.us.auth0.com/api/v2/"});return Object(h.jsx)(p.Provider,{value:{webAuth:s,otpStart:function(e){return new Promise((function(t,n){s.passwordlessStart({email:e,connection:"email",send:"code",authParams:{lang:"fr-ca"}},(function(e,a){e?(console.log(e),n(e)):t(a)}))}))},otpLogin:function(e,t){return new Promise((function(n,a){s.passwordlessLogin({email:e,connection:"email",verificationCode:t},(function(e,t){e?a(e):(window.origin=window.location.origin,n(t))}))}))},loginWithPassword:function(e,t){return new Promise((function(n,a){s.login({realm:"Username-Password-Authentication",username:e,password:t},(function(e,t){e?a(e):t&&(window.origin=window.location.origin,n(t))}))}))},AuthenticateUser:function(e,t){localStorage.setItem("access_token",t),localStorage.setItem("id_token",e),r(!0)},storeUserData:function(e){localStorage.setItem("userData",JSON.stringify(e))},isAuthenticated:o,getUserInfo:function(){var e=localStorage.getItem("access_token");return new Promise((function(t,n){s.client.userInfo(e,(function(e,a){a?(console.log(a),n(a)):(console.log(e),t(e))}))}))}},children:e.children})};function O(e){var t=Object(a.useContext)(p),n=t.loginWithPassword,r=t.otpLogin,s=t.otpStart,i=Object(a.useState)({email:"",password:"",otp:"",otpAvailable:!1,isSubmitting:!1}),l=Object(m.a)(i,2),j=l[0],h=l[1],g=Object(a.useState)({email:"",isEmailError:"",databaseError:"",errorCode:""}),O=Object(m.a)(g,2),v=O[0],_=O[1],f=Object(a.useState)(!1),x=Object(m.a)(f,2),w=x[0],C=x[1],k=Object(a.useState)(!1),y=Object(m.a)(k,2),E=y[0],N=y[1],I=function(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())},S=function(){var e=Object(u.a)(d.a.mark((function e(t){var a,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),w){e.next=16;break}return e.prev=2,e.next=5,n(j.email,j.password);case 5:a=e.sent,_(Object(c.a)(Object(c.a)({},v),{},{databaseError:""})),console.log(a),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0),_(Object(c.a)(Object(c.a)({},v),{},{databaseError:e.t0.description,errorCode:e.t0.code}));case 14:e.next=29;break;case 16:if(e.prev=16,!j.otpAvailable){e.next=23;break}return console.log(j.otp,"otp"),e.next=21,r(j.email,j.otp);case 21:o=e.sent,console.log(o,"ankit");case 23:e.next=29;break;case 25:e.prev=25,e.t1=e.catch(16),console.log(e.t1),_(Object(c.a)(Object(c.a)({},v),{},{databaseError:e.t1.description,errorCode:e.t1.code}));case 29:case"end":return e.stop()}}),e,null,[[2,10],[16,25]])})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(u.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,C(!w),e.next=4,s(j.email);case 4:t=e.sent,console.log("enter here",t),h(Object(c.a)(Object(c.a)({},j),{},{otpAvailable:!0})),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0),_(Object(c.a)(Object(c.a)({},v),{},{databaseError:e.t0.description,errorCode:e.t0.code}));case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),A=o.a.Children.only(e.children);return o.a.cloneElement(A,{onChange:function(e){h(Object(c.a)(Object(c.a)({},j),{},Object(b.a)({},e.target.name,e.target.value))),function(e){"email"===e.target.name&&(e.target.value?e.target.value&&!I(e.target.value)?_(Object(c.a)(Object(c.a)({},v),{},Object(b.a)({isEmailError:!0},e.target.name,"Email is not valid"))):_(Object(c.a)(Object(c.a)({},v),{},Object(b.a)({isEmailError:!1},e.target.name,""))):_(Object(c.a)(Object(c.a)({},v),{},Object(b.a)({isEmailError:!0},e.target.name,"Email is required"))))}(e)},onToggle:function(){C(!w),_(Object(c.a)(Object(c.a)({},v),{},{email:"",databaseError:""}))},switchLogin:w,onSubmit:S,LoginForm:j,LoginError:v,Continue:E,onPressContinue:function(){N(!0)},validateEmail:I,getOtp:L})}n(34);var v=n(86),_=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(h.jsx)(v.a,{id:e,values:Object(c.a)({},t)})},f=function(e){var t=e.onChange,n=e.switchLogin,a=e.onSubmit,o=e.LoginError,r=e.LoginForm,s=e.onToggle,i=e.Continue,c=e.onPressContinue,l=e.validateEmail,d=e.getOtp;return Object(h.jsxs)("div",{className:"LoginWrapperContainer",children:[Object(h.jsxs)("form",{className:"InputWrapper",children:[!n&&Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:"InputContainer",children:[Object(h.jsx)("div",{className:"InputLabel",children:_("emailAddress")}),Object(h.jsx)("input",{type:"email",id:"email",name:"email",value:r.email,placeholder:"johndoe@domain.com",className:"Input",onChange:t,style:{border:!0===o.isEmailError?"2px solid red":!1===o.isEmailError?"2px solid green":"",backgroundColor:"#ffff"}})]})}),o.email&&Object(h.jsx)("div",{className:"Error",children:o.email}),i&&!n&&Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:"InputContainer",children:[Object(h.jsx)("div",{className:"InputLabel",children:_("password")}),Object(h.jsx)("input",{type:"password",id:"password",name:"password",placeholder:"********",className:"Input",onChange:t})]})}),i&&n&&r.otpAvailable&&Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:"InputContainer",children:[Object(h.jsx)("div",{className:"InputLabel",children:_("one_time_passcode")}),Object(h.jsx)("input",{id:"otp",name:"otp",className:"Input",onChange:t})]})}),!i&&Object(h.jsx)("button",{className:"RequestOtp",onClick:c,disabled:!l(r.email),style:{backgroundColor:l(r.email)?"":"grey"},children:Object(h.jsx)("div",{children:_("continue")})}),i&&Object(h.jsx)("button",{className:"RequestOtp",onClick:a,children:Object(h.jsx)("div",{children:_("signIn")})})]}),o.errorCode&&Object(h.jsx)("div",{className:"Error",children:_(o.errorCode)}),i&&Object(h.jsxs)("div",{className:"SwitchContainer",children:[Object(h.jsx)("div",{className:"Switch",children:_("or")}),!n&&Object(h.jsx)("button",{className:"SwitchBtn",onClick:d,children:Object(h.jsx)("div",{children:_("Sign_in_with_a_onetime_passcode")})}),n&&Object(h.jsx)("button",{className:"SwitchBtn",onClick:s,children:Object(h.jsx)("div",{children:_("signIn_with_password")})})]})]})},x=function(e){var t=e.onChange,n=e.switchLogin,a=e.onToggle,o=e.onSubmit,r=e.LoginError,s=e.LoginForm,i=e.Continue,c=e.onPressContinue,l=e.validateEmail,d=e.getOtp;return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:"LoginContainer",children:[Object(h.jsx)("div",{className:"LeftWrapper",children:Object(h.jsxs)("div",{className:"WelcomeContainer",children:[Object(h.jsx)("div",{className:"Logo",children:"McAfee"}),Object(h.jsxs)("div",{className:"Intro",children:[_("Welcome_back_to")," McAfee !"]}),i?Object(h.jsx)("div",{className:"IntroSubHeading",children:_("choose_your_signIn_method_continue")}):Object(h.jsx)("div",{className:"IntroSubHeading",children:_("Enter_your_email_address_so_we_can_find_your_account")})]})}),Object(h.jsx)("div",{className:"RightWrapper",children:Object(h.jsx)(f,{LoginError:r,onChange:t,switchLogin:n,onSubmit:o,LoginForm:s,onToggle:a,onPressContinue:c,Continue:i,validateEmail:l,getOtp:d})})]})})},w=function(e){return Object(h.jsx)(O,Object(c.a)(Object(c.a)({},e),{},{children:Object(h.jsx)(x,{})}))},C=n(6),k=(n(59),function(){var e=JSON.parse(localStorage.getItem("userData"));return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:"DashboardContainer",children:[Object(h.jsxs)("div",{className:"DashBoardHeading",children:[_("Welcome_to_dashboard")," "]}),Object(h.jsx)("div",{className:"UserImg",style:{backgroundImage:"url(".concat(null===e||void 0===e?void 0:e.picture,")")}}),Object(h.jsx)("div",{className:"UserName",children:e.name})]})})}),y=function(e){return Object(h.jsx)(k,{})},E=function(){var e=Object(a.useContext)(p),t=e.isAuthenticated,n=e.storeUserData,o=e.AuthenticateUser,r=e.webAuth;return Object(a.useEffect)((function(){window.location.hash&&r.parseHash({hash:window.location.hash},(function(e,t){if(e)return console.log(e),void localStorage.clear();var a=t.idTokenPayload,r=a.email,s=a.name,i=a.picture,c=a.sub;n({email:r,name:s,picture:i,id:c}),o(t.idToken,t.accessToken)}))}),[]),t?Object(h.jsx)(C.a,{to:"/dashboard"}):Object(h.jsx)("div",{children:"Loading...."})},N=n(85),I="en-us",S="fr-ca",L=Object(b.a)({},I,{Welcome_back_to:"Welcome back to",emailAddress:"Email Address",password:"Password",signIn:"sign in",choose_your_signIn_method_continue:"Choose your sign in method to continue",Enter_your_email_address_so_we_can_find_your_account:"Enter your email address so we can find your account.",or:"or",signIn_with_password:"sign in with password",one_time_passcode:"one-time passcode",Sign_in_with_a_onetime_passcode:"sign in with one-time passcode",continue:"continue",access_denied:"Wrong email or password.",too_many_attempts:" Your account has been blocked after multiple consecutive login attempts. We\u2019ve sent you an email with instructions on how to unblock it.",Welcome_to_dashboard:"Welcome to Dashboard",invalid_request:" Invalid request body. All and only of client_id, credential_type, username, otp, realm are required.",unauthorized_client:"Cross origin login not allowed.",unsupported_credential_type:" Unknown credential type parameter.",blocked_user:"blocked user",password_leaked:"This login attempt has been blocked because the password you're using was previously disclosed through a data breach "}),A=Object(b.a)({},S,{Welcome_back_to:"Bon retour \xe0",emailAddress:"Adresse e-mail",password:"le mot de passe",signIn:"s'identifier",choose_your_signIn_method_continue:"Choisissez votre m\xe9thode de connexion pour continuer",Enter_your_email_address_so_we_can_find_your_account:"Entrez votre adresse e-mail afin que nous puissions trouver votre compte.",Sign_in_with_a_onetime_passcode:"Connectez-vous avec un code d'acc\xe8s \xe0 usage unique",or:"ou",signIn_with_password:"se connecter avec mot de passe",one_time_passcode:"code d'acc\xe8s \xe0 usage unique",continue:"Continuez",access_denied:"Mauvaise adresse de messagerie ou mot de passe.",too_many_attempts:"Votre compte a \xe9t\xe9 bloqu\xe9 apr\xe8s plusieurs tentatives de connexion cons\xe9cutives. Nous vous avons envoy\xe9 un e-mail avec des instructions sur la fa\xe7on de le d\xe9bloquer",Welcome_to_dashboard:"bienvenue au tableau de bord",invalid_request:"Corps de requ\xeate non valide. Tous et uniquement client_id, type d'identification, nom d'utilisateur, otp, domaine sont requis",unauthorized_client:"Connexion d'origine crois\xe9e non autoris\xe9e.",unsupported_credential_typ:"Param\xe8tre de type d'identifiant inconnu.",blocked_user:"utilisateur bloqu\xe9",password_leaked:"Cette tentative de connexion a \xe9t\xe9 bloqu\xe9e car le mot de passe que vous utilisez a d\xe9j\xe0 \xe9t\xe9 divulgu\xe9 suite \xe0 une violation de donn\xe9es"}),P=Object(c.a)(Object(c.a)({},L),A),q=function(e){var t=e.children,n=e.locale;return Object(h.jsx)(N.a,{textComponent:a.Fragment,locale:n,messages:P[n],children:t})},W=n(46),F=n.n(W),U=o.a.createContext({}),B=function(e){var t=Object(a.useState)([]),n=Object(m.a)(t,2),o=n[0],r=n[1];return Object(a.useEffect)((function(){var e=function(){var e=Object(u.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.get("/client/9dR6Ug2BQQbmBMp6grHf1R962NBigRxg.js?t1634713429698");case 2:t=e.sent,n=JSON.parse(t.data.slice(16,-2)),console.log(n.strategies),r(n.strategies);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(h.jsx)(U.Provider,{value:{connections:o},children:e.children})};var T=function(){var e,t=new URLSearchParams(Object(C.g)().search),n=Object(a.useRef)(""),o=t.get("culture");return null===o?e=null===localStorage.getItem("lang")?"en-us":localStorage.getItem("lang"):(e=o,localStorage.setItem("lang",e)),n.current="en-us"===e?I:"fr-ca"===e?S:"en-us",Object(h.jsx)(B,{children:Object(h.jsx)(q,{locale:n.current,children:Object(h.jsx)(g,{children:Object(h.jsxs)(C.d,{children:[Object(h.jsx)(C.b,{exact:!0,path:"/",component:w}),Object(h.jsx)(C.b,{exact:!0,path:"/authorize",component:E}),Object(h.jsx)(C.b,{exact:!0,path:"/dashboard",component:y})]})})})})};var z=function(){return Object(h.jsx)("div",{className:"App",children:Object(h.jsx)(T,{})})},R=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,87)).then((function(t){var n=t.getCLS,a=t.getFID,o=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),o(e),r(e),s(e)}))};s.a.render(Object(h.jsx)(i.a,{children:Object(h.jsx)(z,{})}),document.getElementById("root")),R()}},[[82,1,2]]]);
//# sourceMappingURL=main.f63e528b.chunk.js.map